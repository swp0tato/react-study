import React, { useState } from "react";
import { useEffect } from "react";
import "./Board.style.css";
import Card from "./component/Card";
import { useNavigate } from "react-router-dom";

const Board = () => {
  const [boardList, setBoardList] = useState([]);
  const navigate = useNavigate();

  const getBoards = async () => {
    let url = `http://localhost:3003/products`;
    let response = await fetch(url);
    let data = await response.json();
    console.log("board data", data);
    setBoardList(data);
  };

  const addBoard = () => {
    navigate("write");
  };

  useEffect(() => {
    getBoards();
  }, []);

  return (
    <div className="board-wrap">
      <h3 className="board-title">오늘의 디저트 🧀</h3>
      <div className="add-btn-wrap">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 20 20"
          height={25}
          width={25}
          id="Finger-Snapping--Streamline-Flex"
          className="focus-icon"
        >
          <desc>
            {"Finger Snapping Streamline Icon: https://streamlinehq.com"}
          </desc>
          <g id="finger-snapping">
            <path
              id="Union"
              fill="#bbab8c"
              fillRule="evenodd"
              d="M5.317285714285715 2.405014285714286c0.04404285714285714 0.49114285714285716 0.4779 0.8535857142857143 0.9690428571428571 0.8095428571428571 0.49114285714285716 -0.04405714285714286 0.8535714285714286 -0.4779 0.8095285714285715 -0.9690428571428571L7.005228571428572 1.2349142857142856C6.961185714285715 0.7437742857142858 6.527328571428572 0.3813314285714286 6.036185714285714 0.42537857142857144c-0.49114285714285716 0.044045714285714285 -0.8535714285714286 0.47789857142857145 -0.8095285714285715 0.9690400000000001l0.09062857142857142 1.0105957142857143Zm5.254257142857143 1.0436571428571428c0.3245714285714286 -0.3712142857142858 0.2867571428571429 -0.9352857142857143 -0.08447142857142857 -1.259857142857143 -0.3712285714285714 -0.3245714285714286 -0.9352857142857143 -0.2867571428571429 -1.259857142857143 0.08447142857142857l-0.6678714285714286 0.7638428571428572c-0.3245714285714286 0.3712285714285714 -0.2867571428571429 0.9352857142857143 0.08445714285714286 1.2598714285714285 0.3712285714285714 0.3245714285714286 0.9352857142857143 0.2867571428571429 1.2598714285714285 -0.08447142857142857l0.6678714285714286 -0.7638571428571428ZM1.989 3.286657142857143c-0.23605714285714285 0.43294285714285713 -0.07644285714285715 0.9752714285714286 0.3564857142857143 1.2113285714285713l0.8908428571428572 0.48571428571428577c0.43294285714285713 0.23605714285714285 0.9752714285714286 0.07645714285714286 1.2113285714285713 -0.3564857142857143 0.23605714285714285 -0.43294285714285713 0.07644285714285715 -0.9752714285714286 -0.3564857142857143 -1.2113285714285713l-0.8908428571428572 -0.48571428571428577c-0.43294285714285713 -0.23605714285714285 -0.9752714285714286 -0.07645714285714286 -1.2113285714285713 0.3564857142857143Zm1.770957142857143 7.090214285714286 4.139614285714286 1.1092142857142857c-1.2243857142857144 5.2272 1.1202571428571428 7.2289142857142865 3.5342857142857147 7.875771428571429 0.8971428571428571 0.24042857142857144 2.398142857142857 0.30257142857142855 3.6062857142857143 0.07614285714285715 0.7815714285714286 -0.14642857142857144 1.3001428571428573 -0.815857142857143 1.505857142857143 -1.584l1.4772857142857143 -5.512857142857143c0.15 -0.5602 0.12614285714285714 -1.1528142857142858 -0.06871428571428571 -1.6990857142857143l-1.2570000000000001 -3.5253285714285716c-0.32057142857142856 -0.8991857142857144 -1.2421428571428572 -1.4368285714285713 -2.182714285714286 -1.2734285714285714 -0.9807714285714286 0.17038571428571428 -1.6782714285714286 1.048557142857143 -1.6222285714285714 2.0424285714285713l0.07101428571428571 1.2597 -8.279285714285715 -2.2184285714285714c-0.9526571428571429 -0.25527142857142854 -1.9318714285714285 0.3100857142857143 -2.1871428571428573 1.2627428571428572 -0.25525714285714285 0.9526571428571429 0.3100857142857143 1.9318714285714285 1.2627428571428572 2.1871285714285715Z"
              clipRule="evenodd"
              strokeWidth={1}
            />
          </g>
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 20 20"
          height={25}
          width={25}
          id="Finger-Snapping--Streamline-Flex"
          className="focus-icon"
        >
          <desc>
            {"Finger Snapping Streamline Icon: https://streamlinehq.com"}
          </desc>
          <g id="finger-snapping">
            <path
              id="Union"
              fill="#bbab8c"
              fillRule="evenodd"
              d="M5.317285714285715 2.405014285714286c0.04404285714285714 0.49114285714285716 0.4779 0.8535857142857143 0.9690428571428571 0.8095428571428571 0.49114285714285716 -0.04405714285714286 0.8535714285714286 -0.4779 0.8095285714285715 -0.9690428571428571L7.005228571428572 1.2349142857142856C6.961185714285715 0.7437742857142858 6.527328571428572 0.3813314285714286 6.036185714285714 0.42537857142857144c-0.49114285714285716 0.044045714285714285 -0.8535714285714286 0.47789857142857145 -0.8095285714285715 0.9690400000000001l0.09062857142857142 1.0105957142857143Zm5.254257142857143 1.0436571428571428c0.3245714285714286 -0.3712142857142858 0.2867571428571429 -0.9352857142857143 -0.08447142857142857 -1.259857142857143 -0.3712285714285714 -0.3245714285714286 -0.9352857142857143 -0.2867571428571429 -1.259857142857143 0.08447142857142857l-0.6678714285714286 0.7638428571428572c-0.3245714285714286 0.3712285714285714 -0.2867571428571429 0.9352857142857143 0.08445714285714286 1.2598714285714285 0.3712285714285714 0.3245714285714286 0.9352857142857143 0.2867571428571429 1.2598714285714285 -0.08447142857142857l0.6678714285714286 -0.7638571428571428ZM1.989 3.286657142857143c-0.23605714285714285 0.43294285714285713 -0.07644285714285715 0.9752714285714286 0.3564857142857143 1.2113285714285713l0.8908428571428572 0.48571428571428577c0.43294285714285713 0.23605714285714285 0.9752714285714286 0.07645714285714286 1.2113285714285713 -0.3564857142857143 0.23605714285714285 -0.43294285714285713 0.07644285714285715 -0.9752714285714286 -0.3564857142857143 -1.2113285714285713l-0.8908428571428572 -0.48571428571428577c-0.43294285714285713 -0.23605714285714285 -0.9752714285714286 -0.07645714285714286 -1.2113285714285713 0.3564857142857143Zm1.770957142857143 7.090214285714286 4.139614285714286 1.1092142857142857c-1.2243857142857144 5.2272 1.1202571428571428 7.2289142857142865 3.5342857142857147 7.875771428571429 0.8971428571428571 0.24042857142857144 2.398142857142857 0.30257142857142855 3.6062857142857143 0.07614285714285715 0.7815714285714286 -0.14642857142857144 1.3001428571428573 -0.815857142857143 1.505857142857143 -1.584l1.4772857142857143 -5.512857142857143c0.15 -0.5602 0.12614285714285714 -1.1528142857142858 -0.06871428571428571 -1.6990857142857143l-1.2570000000000001 -3.5253285714285716c-0.32057142857142856 -0.8991857142857144 -1.2421428571428572 -1.4368285714285713 -2.182714285714286 -1.2734285714285714 -0.9807714285714286 0.17038571428571428 -1.6782714285714286 1.048557142857143 -1.6222285714285714 2.0424285714285713l0.07101428571428571 1.2597 -8.279285714285715 -2.2184285714285714c-0.9526571428571429 -0.25527142857142854 -1.9318714285714285 0.3100857142857143 -2.1871428571428573 1.2627428571428572 -0.25525714285714285 0.9526571428571429 0.3100857142857143 1.9318714285714285 1.2627428571428572 2.1871285714285715Z"
              clipRule="evenodd"
              strokeWidth={1}
            />
          </g>
        </svg>
        <button onClick={addBoard} className="add-btn">
          피드 작성 GO !
        </button>{" "}
      </div>
      <div className="board-card-wrap">
        {boardList.map((item) => (
          <Card key={item.id} item={item} />
        ))}
      </div>
    </div>
  );
};

export default Board;
